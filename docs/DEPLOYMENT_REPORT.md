# –ó–≤—ñ—Ç –∑ —Ä–æ–∑—Ä–æ–±–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è

## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è DevOps

---

## 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
telegram-edu-bot/
‚îú‚îÄ‚îÄ üìÑ README.md                    # –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ (60%)
‚îú‚îÄ‚îÄ üìÑ Dockerfile                   # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ üìÑ docker-compose.yml           # Production Docker Compose
‚îú‚îÄ‚îÄ üìÑ docker-compose.dev.yml       # Development Docker Compose
‚îú‚îÄ‚îÄ üìÑ .env.example                 # –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îÇ
‚îú‚îÄ‚îÄ üìÅ .github/
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ üìÑ ci.yml              # CI Pipeline (lint, test, build)
‚îÇ       ‚îî‚îÄ‚îÄ üìÑ deploy.yml          # CD Pipeline (deployment)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ config/
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ init.py
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ settings.py             # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É
‚îÇ
‚îú‚îÄ‚îÄ üìÅ database/
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ init.py
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ models.py               # –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö (SQLite)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ docs/                        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è DevOps
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ deployment.md           # –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è (74%)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ update.md              # –û–Ω–æ–≤–ª–µ–Ω–Ω—è (90%)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ backup.md              # –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (+5–±)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ scripts/               # –°–∫—Ä–∏–ø—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ backup.sh          # –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ restore.sh         # –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ health_check.sh    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ verify_backups.sh # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ safe_update.sh     # –ë–µ–∑–ø–µ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ run_dev.bat        # Windows dev –∑–∞–ø—É—Å–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ run_prod.bat       # Windows prod –∑–∞–ø—É—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ k8s/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ deployment.yaml    # Kubernetes configuration
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ terraform/
‚îÇ       ‚îú‚îÄ‚îÄ üìÑ main.tf           # Terraform infrastructure
‚îÇ       ‚îî‚îÄ‚îÄ üìÑ variables.tf     # Terraform variables
‚îÇ
‚îú‚îÄ‚îÄ üìÅ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ admin_commands.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ student_commands.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ teacher_commands.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ cabinet.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ communication.py
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ ics_schedule.py
‚îÇ
‚îú‚îÄ‚îÄ üìÅ services/
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ scheduler.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ ics_parser.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ sumdu_api.py
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ sumdu_cabinet.py
‚îÇ
‚îî‚îÄ‚îÄ üìÅ tests/
    ‚îú‚îÄ‚îÄ üìÑ test_models.py
    ‚îî‚îÄ‚îÄ üìÑ test_integration.py
```

---

## 2. –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

### 2.1 README.md - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ (60%)

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** [`README.md`](README.md)

**–ó–º—ñ—Å—Ç:**
- –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ –¥—ñ–∞–≥—Ä–∞–º–∞ –ø—Ä–æ–µ–∫—Ç—É
- –û–ø–∏—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ (Telegram Bot, SQLite, APScheduler, cachetools)
- –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞:
  1. –ù–µ–æ–±—Ö—ñ–¥–Ω–µ –ü–ó (Python 3.11+, Git, pip)
  2. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
  3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
  4. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (`pip install -r requirements.txt`)
  5. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (`.env` —Ñ–∞–π–ª)
  6. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π –¥–ª—è –¥–∞–Ω–∏—Ö
  7. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏
  8. –ë–∞–∑–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—ó
  9. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
  10. –†–æ–∑—Ä–æ–±–∫–∞ –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
  11. –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º (troubleshooting)

---

### 2.2 docs/deployment.md - –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —É production (74%)

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** [`docs/deployment.md`](docs/deployment.md)

**–ó–º—ñ—Å—Ç:**

1. **–í–∏–º–æ–≥–∏ –¥–æ –∞–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è**
   | –ü–∞—Ä–∞–º–µ—Ç—Ä | –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ | –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ |
   |----------|------------|---------------|
   | CPU | 1 —è–¥—Ä–æ | 2+ —è–¥—Ä–∞ |
   | RAM | 512 MB | 1 GB |
   | –î–∏—Å–∫ | 5 GB | 10+ GB SSD |
   | –ú–µ—Ä–µ–∂–∞ | 10 Mbps | 100 Mbps |

2. **–ü—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è**
   - Linux (Ubuntu 20.04+, Debian 11+)
   - Windows Server 2019+
   - Docker (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

3. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂—ñ**
   - Firewall (UFW)
   - –ü–æ—Ä—Ç–∏ –¥–ª—è Telegram Webhook

4. **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–µ—Ä–≤–µ—Ä—ñ–≤**
   - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –±–æ—Ç–∞
   - systemd service configuration
   - –ó–∞—Ö–∏—Å—Ç —Å–∏—Å—Ç–µ–º–∏ (ProtectSystem, NoNewPrivileges)

5. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –°–£–ë–î**
   - SQLite –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è production
   - WAL mode, synchronous settings

6. **–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∫–æ–¥—É**
   - –ú–µ—Ç–æ–¥ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è –∑ Git
   - –ú–µ—Ç–æ–¥ 2: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

7. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ**
   - systemd status
   - –õ–æ–≥—É–≤–∞–Ω–Ω—è
   - Health check —Å–∫—Ä–∏–ø—Ç

8. **Rollback procedures**

---

### 2.3 docs/update.md - –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ (90%)

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** [`docs/update.md`](docs/update.md)

**–ó–º—ñ—Å—Ç:**

1. **–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ç–æ—á–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–º–æ–≥ –¥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π

3. **–ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —á–∞—Å—É –ø—Ä–æ—Å—Ç–æ—é**
   - –û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É –ø—Ä–æ—Å—Ç–æ—é
   - –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
   - –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –≤—ñ–∫–Ω–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

4. **–ü—Ä–æ—Ü–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**
   - –ó—É–ø–∏–Ω–∫–∞ —Å–ª—É–∂–±
   - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∫–æ–¥—É
   - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
   - –ú—ñ–≥—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
   - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π
   - –û—á–∏—â–µ–Ω–Ω—è

5. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**
   - Health check
   - –¢–µ—Å—Ç–æ–≤–∏–π –∑–∞–ø—Ä–æ—Å

6. **–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤—ñ–¥–∫–∞—Ç—É (Rollback) +1 –±–∞–ª**
   - –£–º–æ–≤–∏ –¥–ª—è –≤—ñ–¥–∫–∞—Ç—É
   - –í—ñ–¥–∫–∞—Ç –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó
   - –í—ñ–¥–∫–∞—Ç Docker
   - –î–æ–∫—É–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏

7. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**
   - safe_update.sh script
   - Cron –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è

---

### 2.4 docs/backup.md - –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è (+5 –±–∞–ª—ñ–≤)

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** [`docs/backup.md`](docs/backup.md)

**–ó–º—ñ—Å—Ç:**

1. **–°—Ç—Ä–∞—Ç–µ–≥—ñ—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**
   - –¢–∏–ø–∏ –∫–æ–ø—ñ–π (–ø–æ–≤–Ω—ñ, —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ñ, –¥–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞–ª—å–Ω—ñ)
   - –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è

2. **–ß–∞—Å—Ç–æ—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è**
   | –î–∞–Ω—ñ | –ß–∞—Å—Ç–æ—Ç–∞ | –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è |
   |------|---------|------------|
   | –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö | –©–æ–¥–µ–Ω–Ω–æ | 30 –¥–Ω—ñ–≤ |
   | –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è | –ü—Ä–∏ –∑–º—ñ–Ω—ñ | 90 –¥–Ω—ñ–≤ |
   | –õ–æ–≥–∏ | –©–æ–º—ñ—Å—è—á–Ω–æ | 365 –¥–Ω—ñ–≤ |

3. **–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è**
   - backup.sh script (–±–∞–∑–∞, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è, –ª–æ–≥–∏)
   - –û—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∫–æ–ø—ñ–π

4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è**
   - Cron –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
   - Systemd timer

5. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ**
   - verify_backups.sh script
   - SQLite integrity check

6. **–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è**
   - –ü–æ–≤–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è (restore.sh)
   - –í–∏–±—ñ—Ä–∫–æ–≤–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
   - –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ª–æ–≥—ñ–≤

7. **–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ —Ä–æ—Ç–∞—Ü—ñ—è**
   - –õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
   - –í—ñ–¥–¥–∞–ª–µ–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è (S3)
   - –†–æ—Ç–∞—Ü—ñ—è –∫–æ–ø—ñ–π

8. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è**
   - test_restore.sh script
   - –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

---

### 2.5 –°–∫—Ä–∏–ø—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó (+5 –±–∞–ª—ñ–≤)

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** [`docs/scripts/`](docs/scripts/)

| –°–∫—Ä–∏–ø—Ç | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ |
|--------|-------------|-----------|
| backup.sh | –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è | Linux |
| restore.sh | –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è | Linux |
| health_check.sh | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ | Linux |
| verify_backups.sh | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –∫–æ–ø—ñ–π | Linux |
| safe_update.sh | –ë–µ–∑–ø–µ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è | Linux |
| run_dev.bat | –ó–∞–ø—É—Å–∫ dev —Ä–µ–∂–∏–º—É | Windows |
| run_prod.bat | –ó–∞–ø—É—Å–∫ prod —Ä–µ–∂–∏–º—É | Windows |

---

## 3. Docker —Ç–∞ CI/CD

### 3.1 –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è

**–°—Ç–≤–æ—Ä–µ–Ω–æ:**
- [`Dockerfile`](Dockerfile) - Python 3.11-slim, –Ω–µ-root –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á, health check
- [`docker-compose.yml`](docker-compose.yml) - Production deployment
- [`docker-compose.dev.yml`](docker-compose.dev.yml) - Development environment

### 3.2 CI/CD Pipeline

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** [`.github/workflows/`](.github/workflows/)

**ci.yml:**
- Linting (flake8, black, isort)
- Testing (pytest –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º)
- Docker build & push

**deploy.yml:**
- Deployment –¥–æ production/staging
- Health check –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π rollback –ø—Ä–∏ –Ω–µ–≤–¥–∞—á—ñ

---

## 4. Kubernetes —Ç–∞ Terraform

### 4.1 Kubernetes

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** [`docs/k8s/deployment.yaml`](docs/k8s/deployment.yaml)
- Deployment –∑ 1 —Ä–µ–ø–ª—ñ–∫–æ—é
- PersistentVolumeClaim –¥–ª—è –¥–∞–Ω–∏—Ö
- Service (ClusterIP)
- HorizontalPodAutoscaler
- Health checks (liveness/readiness)

### 4.2 Terraform

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** [`docs/terraform/`](docs/terraform/)
- main.tf - DigitalOcean Droplet, Firewall
- variables.tf - –ó–º—ñ–Ω–Ω—ñ –¥–ª—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

---

## 5. –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –±–∞–ª—ñ–≤

| –ó–∞–≤–¥–∞–Ω–Ω—è | –ë–∞–ª–∏ | –í–∏–∫–æ–Ω–∞–Ω–æ |
|----------|------|----------|
| README.md –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ | 60% | ‚úÖ |
| docs/deployment.md | 74% | ‚úÖ |
| docs/update.md | 90% | ‚úÖ |
| docs/backup.md | +5 | ‚úÖ |
| rollback procedure | +1 | ‚úÖ |
| Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è | ‚úÖ | ‚úÖ |
| CI/CD (GitHub Actions) | ‚úÖ | ‚úÖ |
| Kubernetes | ‚úÖ | ‚úÖ |
| Terraform | ‚úÖ | ‚úÖ |
| Bash —Å–∫—Ä–∏–ø—Ç–∏ | ‚úÖ | ‚úÖ |
| Windows batch —Å–∫—Ä–∏–ø—Ç–∏ | ‚úÖ | ‚úÖ |

**–ó–∞–≥–∞–ª—å–Ω–∏–π –±–∞–ª:** ~250%+ (–≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ + –¥–æ–¥–∞—Ç–∫–æ–≤—ñ)

---

## 6. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### Development Mode

```bash
# Linux/macOS
source venv/bin/activate
python main.py

# Docker
docker-compose -f docker-compose.dev.yml up -d
```

### Production Mode

```bash
# Linux
sudo systemctl enable telegram-bot.service
sudo systemctl start telegram-bot.service

# Docker
docker-compose up -d --build
```

### –†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

```bash
# –†—É—á–Ω–µ
bash docs/scripts/backup.sh

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ (cron)
0 2 * * * /opt/telegram-bot/docs/scripts/backup.sh
```

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# –ë–µ–∑–ø–µ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
sudo bash docs/scripts/safe_update.sh main
```

---

## 7. –í–∏—Å–Ω–æ–≤–æ–∫

–í—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–æ –ø–æ–≤–Ω—ñ—Å—Ç—é:

1. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ –ø–æ–≤–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ —É README.md
2. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ docs/deployment.md –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏ –¥–ª—è DevOps
3. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ docs/update.md –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
4. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ docs/backup.md –∑ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—î—é —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
5. ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ rollback –ø—Ä–æ—Ü–µ–¥—É—Ä—É (+1 –±–∞–ª)
6. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ Docker —Ç–∞ docker-compose –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
7. ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ CI/CD –∑ GitHub Actions
8. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ Kubernetes —Ç–∞ Terraform –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
9. ‚úÖ –ù–∞–ø–∏—Å–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ–π–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ (bash, batch)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤–∏–º–æ–≥–∞–º —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.
